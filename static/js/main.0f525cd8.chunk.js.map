{"version":3,"sources":["components/index.tsx","App.tsx","index.tsx"],"names":["wrapperStyle","width","height","boxShadow","borderRadius","position","padding","backgroundColor","background","innerStyle","top","left","useGetBall","setState","options","useState","isDrag","setIsDrag","x","y","controlState","setControlState","defaultOption","useMemo","intervalDelay","ratioSpeed","draggableProps","bounds","onStart","onDrag","e","data","onStop","innerContent","mergedOption","userDraggableProps","newDraggableProps","userWstyle","userIstyle","useEffect","timer","window","setInterval","v","extraX","extraY","clearInterval","style","App","state","render","className","transform","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f525cd8.chunk.js","sourcesContent":["import React, {\r\n\tCSSProperties,\r\n\tReactNode,\r\n\tuseEffect,\r\n\tuseMemo,\r\n\tuseState,\r\n} from \"react\";\r\nimport Draggable, {\r\n\tDraggableData,\r\n\tDraggableEvent,\r\n\tDraggableProps,\r\n} from \"react-draggable\";\r\n\r\nconst wrapperStyle: CSSProperties = {\r\n\twidth: \"50px\",\r\n\theight: \"50px\",\r\n\tboxShadow: \"inset 2px 2px 4px #d5d5d5, inset -2px -2px 4px #fff\",\r\n\tborderRadius: \"50%\",\r\n\tposition: \"relative\",\r\n\tpadding: \"5px\",\r\n\tbackgroundColor: \"#fff\",\r\n\tbackground: \"linear-gradient(145deg, #fff, #fafafa)\",\r\n};\r\n\r\nconst innerStyle: CSSProperties = {\r\n\twidth: \"20px\",\r\n\theight: \"20px\",\r\n\tborderRadius: \"50%\",\r\n\tboxShadow: \"2px 2px 4px #3690d9\",\r\n\tbackgroundColor: \"#40a9ff\",\r\n\tbackground: \"linear-gradient(145deg, #4ac2ff, #40a9ff)\",\r\n\tposition: \"relative\",\r\n\ttop: \"15px\",\r\n\tleft: \"15px\",\r\n};\r\n\r\nexport interface IOptionsType {\r\n\twrapperStyle?: CSSProperties;\r\n\tinnerStyle?: CSSProperties;\r\n\tintervalDelay?: number;\r\n\tratioSpeed?: IPositionState;\r\n\tdraggableProps?: Partial<DraggableProps>;\r\n\tinnerContent?: ReactNode;\r\n}\r\nexport interface IPositionState {\r\n\tx: number;\r\n\ty: number;\r\n}\r\n\r\nexport function useGetBall(\r\n\tsetState: React.Dispatch<React.SetStateAction<IPositionState>>,\r\n\toptions?: IOptionsType\r\n): [\r\n\tReactNode,\r\n\tboolean,\r\n\tReact.Dispatch<React.SetStateAction<boolean>>,\r\n\tIPositionState,\r\n\tReact.Dispatch<React.SetStateAction<IPositionState>>\r\n] {\r\n\tconst [isDrag, setIsDrag] = useState(false);\r\n\tconst [controlState, setControlState] = useState({ x: 0, y: 0 });\r\n\r\n\tconst defaultOption: Required<IOptionsType> = useMemo(() => {\r\n\t\treturn {\r\n\t\t\twrapperStyle: wrapperStyle,\r\n\t\t\tinnerStyle: innerStyle,\r\n\t\t\tintervalDelay: 20,\r\n\t\t\tratioSpeed: { x: 1, y: 1 },\r\n\t\t\tdraggableProps: {\r\n\t\t\t\tposition: { x: 0, y: 0 },\r\n\t\t\t\tbounds: \"parent\",\r\n\t\t\t\tonStart: () => {\r\n\t\t\t\t\tsetIsDrag(true);\r\n\t\t\t\t},\r\n\t\t\t\tonDrag: (e: DraggableEvent, data: DraggableData) => {\r\n\t\t\t\t\tsetControlState({ x: data.x, y: data.y });\r\n\t\t\t\t},\r\n\t\t\t\tonStop: () => {\r\n\t\t\t\t\tsetIsDrag(false);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tinnerContent: null,\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst mergedOption: Required<IOptionsType> = useMemo(() => {\r\n\t\tconst userDraggableProps = options?.draggableProps;\r\n\t\tconst newDraggableProps = {\r\n\t\t\t...defaultOption.draggableProps,\r\n\t\t\tuserDraggableProps,\r\n\t\t};\r\n\t\tconst userWstyle = options?.wrapperStyle;\r\n\t\tconst userIstyle = options?.innerStyle;\r\n\t\tconst newWstyle = { ...defaultOption.wrapperStyle, ...userWstyle };\r\n\t\tconst newIstyle = { ...defaultOption.innerStyle, ...userIstyle };\r\n\t\treturn {\r\n\t\t\twrapperStyle: newWstyle,\r\n\t\t\tinnerStyle: newIstyle,\r\n\t\t\tintervalDelay: options?.intervalDelay\r\n\t\t\t\t? options.intervalDelay\r\n\t\t\t\t: defaultOption.intervalDelay,\r\n\t\t\tratioSpeed: options?.ratioSpeed\r\n\t\t\t\t? options.ratioSpeed\r\n\t\t\t\t: defaultOption.ratioSpeed,\r\n\t\t\tdraggableProps: newDraggableProps,\r\n\t\t\tinnerContent: options?.innerContent ? options.innerContent : null,\r\n\t\t};\r\n\t}, [\r\n\t\tdefaultOption.draggableProps,\r\n\t\tdefaultOption.innerStyle,\r\n\t\tdefaultOption.intervalDelay,\r\n\t\tdefaultOption.ratioSpeed,\r\n\t\tdefaultOption.wrapperStyle,\r\n\t\toptions,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet timer: number;\r\n\t\tif (isDrag) {\r\n\t\t\tconst fn = () => {\r\n\t\t\t\tsetState((v) => {\r\n\t\t\t\t\tlet extraX = controlState.x;\r\n\t\t\t\t\tlet extraY = controlState.y;\r\n\t\t\t\t\tif (mergedOption.ratioSpeed.x) {\r\n\t\t\t\t\t\textraX = extraX * mergedOption.ratioSpeed.x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mergedOption.ratioSpeed.y) {\r\n\t\t\t\t\t\textraY = extraY * mergedOption.ratioSpeed.y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: v.x + extraX,\r\n\t\t\t\t\t\ty: v.y + extraY,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\ttimer = window.setInterval(() => {\r\n\t\t\t\tfn();\r\n\t\t\t}, mergedOption.intervalDelay);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\twindow.clearInterval(timer);\r\n\t\t};\r\n\t}, [\r\n\t\tcontrolState,\r\n\t\tisDrag,\r\n\t\tmergedOption.intervalDelay,\r\n\t\tmergedOption.ratioSpeed,\r\n\t\tsetState,\r\n\t]);\r\n\r\n\tconst render = (\r\n\t\t<div style={mergedOption.wrapperStyle}>\r\n\t\t\t<Draggable {...mergedOption.draggableProps}>\r\n\t\t\t\t<div style={mergedOption.innerStyle}>\r\n\t\t\t\t\t{mergedOption.innerContent}\r\n\t\t\t\t</div>\r\n\t\t\t</Draggable>\r\n\t\t</div>\r\n\t);\r\n\treturn [render, isDrag, setIsDrag, controlState, setControlState];\r\n}\r\n\r\nexport default useGetBall;\r\n","import React, { useState } from \"react\";\nimport Draggable, { DraggableEvent, DraggableData } from \"react-draggable\";\nimport { useGetBall } from \"./components\";\n\nfunction App() {\n\tconst [state, setState] = useState({ x: 0, y: 0 });\n\tconst [render, isDrag, , position] = useGetBall(setState, {\n\t\tratioSpeed: { x: 0.5, y: 0.5 },\n\t});\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Draggable\n\t\t\t\tposition={state}\n\t\t\t\tonStop={(e: DraggableEvent, data: DraggableData) => {\n\t\t\t\t\tsetState({ x: data.x, y: data.y });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100px\",\n\t\t\t\t\t\theight: \"100px\",\n\t\t\t\t\t\tbackgroundColor: \"red\",\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t</Draggable>\n\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: \"100px\",\n\t\t\t\t\theight: \"100px\",\n\t\t\t\t\tbackgroundColor: \"blue\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\ttransform: `translate(${state.x}px,${state.y}px)`,\n\t\t\t\t}}\n\t\t\t></div>\n\n\t\t\t<div>{isDrag}</div>\n\t\t\t<div>\n\t\t\t\t{state.x},{state.y}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{position.x},{position.y}\n\t\t\t</div>\n\t\t\t{render}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}